# CVE Operator Helm Chart

This helm chart is used to install Kubernetes manifests generated by Kubebuilder. These manifests have Custom Resource Definitions (CRDs), Role/ClusterRole, RoleBinding/ClusterRoleBinding, service account, deployment, and service to install the custom cve operator.

### Secrets
The operator retrieves Kafka connection details, Image Pull Credentials and other environment variables from secrets that are set up using [external-secrets](https://external-secrets.io/latest/) operator.

## Using Helm Chart

- To install this chart onto a k8s cluster:

```bash
# helm install [release-name] [directory-path]
helm install my-operator ../helm-cve-operator

```

- To uninstall this chart, use:

```bash
# helm uninstall [release-name]
helm uninstall my-operator
```

## Monitoring a Custom Resources kubectl Commands

- To get GitHubReleasesMonitor, use:

```bash
# kubectl get customResource -n [namespace]
kubectl get githubreleasesmonitors -n operator-namespace
```

- To get GitHubRelease, use:

```bash
# kubectl get customResource -n [namespace]
kubectl get githubrelease -n operator-namespace
```

- To get jobs, use:

```bash
# kubectl get jobs -n [namespace]
kubectl get jobs -n operator-namespace
```

- To get logs of a pod, use:

```bash
# kubectl logs -n [namespace] [pod-name]
kubectl logs -n operator-namespace 
```
